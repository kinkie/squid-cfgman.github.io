<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta type="copyright" content="Copyright (C) 1996-2024 The Squid Software Foundation and contributors">
    <title>Squid 6.12 Configuration File: adaptation_meta</title>
    <meta name="keywords" content="squid squid.conf config configure adaptation_meta" />
    <meta name="description" content="Squid 6.12  adaptation_meta " />
    <link rel="stylesheet" type="text/css" href="http://www.squid-cache.org/default.css" />
    <link rel="stylesheet" type="text/css" href="http://www.squid-cache.org/cfgman.css" />
</head>

<body>
<div id="content">
  <p class="cfglinks">
  |&nbsp;<a href="index.html#toc_adaptation_meta">Index</a>&nbsp;
  |&nbsp;<a href="index_all.html#toc_adaptation_meta">Alphabetical Index</a>&nbsp;|
  </p>

  <table class="summary" summary="adaptation_meta">
    <tr>
      <th>Option Name:</th><td id="name"><a name="adaptation_meta">adaptation_meta</a></td>
    </tr>
    <tr>
      <th>Replaces:</th><td id="alias"></td>
    </tr>
    <tr>
      <th>Requires:</th><td id="requires">--enable-ecap or --enable-icap-client</td>
    </tr>
    <tr>
      <th>Default Value:</th><td id="default">none
</td>
    </tr>
    <tr>
      <th>Suggested Config:</th>
      <td id="config">
<pre>

</pre>
      </td>
    </tr>
    <tr>
      <td id="detail" colspan="2">
<pre>
	This option allows Squid administrator to add custom ICAP request
	headers or eCAP options to Squid ICAP requests or eCAP transactions.
	Use it to pass custom authentication tokens and other
	transaction-state related meta information to an ICAP/eCAP service.

	The addition of a meta header is ACL-driven:
		adaptation_meta name value [!]aclname ...

	Processing for a given header name stops after the first ACL list match.
	Thus, it is impossible to add two headers with the same name. If no ACL
	lists match for a given header name, no such header is added. For
	example:

		# do not debug transactions except for those that need debugging
		adaptation_meta X-Debug 1 needs_debugging

		# log all transactions except for those that must remain secret
		adaptation_meta X-Log 1 !keep_secret

		# mark transactions from users in the "G 1" group
		adaptation_meta X-Authenticated-Groups "G 1" authed_as_G1

	The "value" parameter may be a regular squid.conf token or a "double
	quoted string". Within the quoted string, use backslash (\) to escape
	any character, which is currently only useful for escaping backslashes
	and double quotes. For example,
	    "this string has one backslash (\\) and two \"quotes\""

	Used adaptation_meta header values may be logged via %note
	logformat code. If multiple adaptation_meta headers with the same name
	are used during master transaction lifetime, the header values are
	logged in the order they were used and duplicate values are ignored
	(only the first repeated value will be logged).

</pre>
      </td>
    </tr>
    <tr class="spacer"><td>&nbsp;</td></tr>
  </table>
  <p class="cfglinks">
  |&nbsp;<a href="index.html#toc_adaptation_meta">Index</a>&nbsp;
  |&nbsp;<a href="index_all.html#toc_adaptation_meta">Alphabetical Index</a>&nbsp;|
  </p>
  </div>

  </body>
</html>
